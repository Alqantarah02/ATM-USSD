<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="main.js" />
    <title>USSD Operations</title>
  </head>
  <body>
    <h1>Ussd</h1>
    <script>
    let ussd = "*737#";
    let accountBalance = 20000;
    let pin = 1234;

    let procedure = prompt("Please Enter USSD code");

    if (procedure == ussd) {
      let firstPrompt = prompt(`Welcome to USSD banking.
  Please note that a service fee of N6.98 network charge will be applied to your
  account for banking services on this channel.
  1. Accept
  2. Cancel`);

      if (firstPrompt == "1") {
        // let bankOptions;
        // while (true) {
         let bankOptions = prompt(`Welcome to GTB.
      1. Check Balance
      2. Airtime
      3. Transfer
      4. Data
      5. Exit`);

      while(bankOptions !=="5"){

        if (bankOptions == "1") {
          alert(`Your balance is ${accountBalance}`);
        } else if (bankOptions == "2") {
          let airtimeChoice = prompt(`Please select your network:
    1. To self
    2. To others`);
          if (airtimeChoice == "1") {
            prompt(`Please input amount`);
            alert("Airtime recharge successful");
          } else if (airtimeChoice == "2") {
            let phoneNumber = prompt("Please input phone number");
            let amountRecharge = prompt("Please input amount");
            alert(`You want to recharge ${amountRecharge} to ${phoneNumber}`);
            let enterPin = prompt(`Please enter your pin`);
  
            if (enterPin == pin) {
              alert("Amount recharge successful");
            } else {
              alert("Invalid Pin");
            }
          } else {
            alert("Invalid choice");
          }
        } else if (bankOptions == "3") {
          let transfer = prompt(`1. Savings 2. Current`);
          if (transfer == "1" || transfer == "2") {
            let bankType = prompt(`Please select bank:
      1. FCMB
      2. Access
      3. Gtb
      4.Stanbic IBTC`);
  
            if (bankType == "1" || bankType == "2" || bankType == "3" || bankType == "4") {
              let amount = prompt("Input amount");
              let accountName = prompt("Input account number");
              alert(`You want to transfer ${amount} to ${accountName}`);
              selectPin = prompt(`Please enter your pin`);
  
              if (selectPin == pin) {
                alert("Transfer successful");
              } else {
                alert("Invalid Pin");
              }
            } else {
              alert("Invalid bank selection");
            }
          } else {
            alert("Unknown Application");
          }
        } else if (bankOptions == "4") {
          let network = prompt(`Please select Network:
    1. Airtel
    2. Mtn
    3. Glo
    4. Etisalat`);
  
          if (network == "1" || network == "2" || network == "3" || network == "4") {
            let dataType = prompt(`Please select a plan:
      1. 1000 for 1.5GB
      2. 2000 for 2GB
      3. 3500 for 6.5GB
      3. 5000 for 10GB`);
  
            if (dataType == "1" || dataType == "2" || dataType == "3" || dataType == "4") {
              let dataPhone = prompt("Please input phone number");
              alert(`You want to recharge ${dataType} to ${dataPhone}`);
              alert(`Recharge Successful`);
            }
          }
        } else {
          alert("Transaction canceled.");
        }
        break;
      }

        // }
      } else {
        alert("Unknown Application");
      }
    } else {
      alert("Please enter a valid pin");
    }
    </script>
       
      </body>
    </html>
    